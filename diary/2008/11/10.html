<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <base href=".">
    <meta name="description" content="侍ズム"/>
    <meta name="abstract" content=""/>
    <meta name="author" content="Yusuke Yamamoto"/>
    <meta name="generator" content="Pebble (http://pebble.sourceforge.net)"/>
    <title>2008/11/10 - 侍ズム</title>
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://yusuke.homeip.net/diary/../../../diary/rss.xml"/>
    <link rel="alternate" type="application/rdf+xml" title="RDF" href="http://yusuke.homeip.net/diary/rdf.xml"/>
    <link rel="alternate" type="application/atom+xml" title="Atom" href="../../../diary/atom.xml"/>
    <link rel="stylesheet" href="../../../diary/pebble.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="../../../diary/themes/user-diary/screen.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="../../../diary/themes/_pebble/print.css" type="text/css" media="print"/>
    <link rel="stylesheet" href="../../../diary/themes/_pebble/handheld.css" type="text/css" media="handheld"/>
    <link rel="shortcut icon" href="http://yusuke.homeip.net/themes/user-diary/images/favicon.ico" type="image/x-icon"/>
    <script type="text/javascript" src="../../../FCKeditor/fckeditor.js"></script>
    <script type="text/javascript" src="../../../scripts/pebble.js"></script>
    <script type="text/javascript" src="../../../scripts/prototype.js"></script>
    <script type="text/javascript" src="../../../scripts/scriptaculous.js"></script>
    <script type="text/javascript" src="../../../scripts/dwr-engine.js"></script>
    <script type="text/javascript" src="../../../dwr/util.js"></script>
    <script type="text/javascript" src="../../../dwr/interface/Pebble.js"></script>
  </head>
  <body>
  <div id="body">
    <script src="../../../maps_file_api_v_1_key_ABQIAAAAtS2fi_RnBiuUs4BlVHjt6BRABsBgP8wqQh7kS3FgnXJL7vMCZhRCUVBp4cfEBxevDEQRKjj9DJC-Yg.js" type="text/javascript" charset="UTF-8"></script>
<script type="text/javascript" src="../../../diary/themes/user-diary/lightbox/lightbox.js"></script>
    <div id="header">
      <div id="blogName"><a href="../../../diary.html">侍ズム</a></div>
      <div id="blogDescription"><span></span></div>
    </div>
    <div id="linearNavigation">
      <a href="../../../diary/2008/11/09.html">&lt;&lt; 2008/11/09</a> |
    <a href="../../../diary.html">Home</a>
      | <a href="../../../diary/2008/11/11.html">2008/11/11 &gt;&gt;</a>
    </div>
    <div id="sidebar">
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>About</span></div>
  <div class="sidebarItemBody">
    レッドハットのコンサルタント、<br>山本裕介のweblog。<br><br>映画、アーチェリー、Java 好き。<br>
このブログでは日々の出来事、IT関連のニュース、映画の感想など種々雑多なエントリを書き連ねています。<br><br>Twitter:<a href="http://twitter.com/yusukey">yusukey</a><br><br>
<a href="http://www.sbibusiness.com/pub/yusuke"><img src="../../../image/personsetting/banners/120_30_2.gif" width="120" height="30" border="0" alt="山本裕介"></a><br><br> <a href="http://www.linkedin.com/in/yusuke"><img src="../../../img/webpromo/btn_viewmy_160x33.gif" width="160" height="33" border="0" alt="View Yusuke Yamamoto's profile on LinkedIn"/></a><br><br>
Mail: yusuke<script>document.write("@");</script>mac.com
  </div>
</div>
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>検索</span></div>
  <div class="sidebarItemBody">
<form action="http://www.google.co.jp/cse" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3583922429486444:jjx7wkkxkgw"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <input type="text" name="q" size="19"/>
    <input type="submit" name="sa" value="検索"/>
  </div>
</form>
<script type="text/javascript" src="../../../coop/cse/brand_form_cse-search-box_lang_ja.js"></script> 
  </div>
</div>
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>Tools & Utilities</span></div>
  <div class="sidebarItemBody">
    <ul>
      <li><a href="../../../samurai.html">侍</a></li>
      <li><a href="../../../komuso.html">虚無僧</a></li>
      <li><a href="../../../waraji.html">わらじ</a></li>
      <li><a href="../../../twitter4j.html">Twitter4J</a></li>
      <li><a href="../../../log4twitter.html">Log4Twitter</a></li>
    </ul>  
  </div>
</div>
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>Ad</span></div>
<div class="sidebarItemBody">
<script type="text/javascript"><!--
google_ad_client = "pub-3583922429486444";
/* 200x200, 作成済み 08/09/06 */
google_ad_slot = "3834106799";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript" src="../../../pagead/show_ads.js">
</script><br>
<br>
<script type="text/javascript"><!--
amazon_ad_tag = "samuraism-22"; amazon_ad_width = "160"; amazon_ad_height = "600";//--></script>
<script type="text/javascript" src="../../../s/ads.js"></script>  </div>
</div>
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>最近のレスポンス <a href="../../../diary/responses/../../../diary/rss.xml"></a></span></div>
  <div class="sidebarItemBody">
    <ul>
      <li><a href="../../../diary/2008/11/28/1227801753420.html#trackback1250601262658" title="http://yusuke.homeip.net/diary/2008/11/28/1227801753420.html#trackback1250601262658">TimeMachine復活</a><br/>JUGEMテーマ：コンピュータ 72日以上、TimeMachineが使え...</li>
      <li><a href="../../../diary/2007/03/19/1174231031120.html#comment1248971965910" title="http://yusuke.homeip.net/diary/2007/03/19/1174231031120.html#comment1248971965910">Re: JMX Remote を使って WebLogic Server 9.x の MBean にアクセス</a><br/>同じエラーを見たことはありませんが、クラ...</li>
      <li><a href="../../../diary/2007/03/19/1174231031120.html#comment1248943799734" title="http://yusuke.homeip.net/diary/2007/03/19/1174231031120.html#comment1248943799734">Re: JMX Remote を使って WebLogic Server 9.x の MBean にアクセス</a><br/>私は上記のやり方で試しましたが、下記のエ...</li>
    </ul>
  </div>
</div>
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>最近のエントリー <a href="../../../diary/rss.xml"></a></span></div>
  <div class="sidebarItemBody">
    <ul>
      <li><a href="../../../diary/2009/10/01/1254402960000.html" title="http://yusuke.homeip.net/diary/2009/10/01/1254402960000.html">レッドハットのルールエンジン - JBoss Enterprise BRMS クイックスタートセミナーのお知らせ - 10月6日@恵比寿</a>
        <br/>レッドハットではオープンソースのルールエ...
      </li>
      <li><a href="../../../diary/2009/09/28/1254123180000.html" title="http://yusuke.homeip.net/diary/2009/09/28/1254123180000.html">JBoss オープンセミナー@恵比寿 - 10月7日 15:00〜</a>
        <br/>JBoss の製品概要や事例、またちょっとしたテクニ...
      </li>
      <li><a href="../../../diary/2009/09/23/1253637540000.html" title="http://yusuke.homeip.net/diary/2009/09/23/1253637540000.html">Twitter4J 2.0.10 リリース - geo location API, retweet API をサポート</a>
        <br/>Twitter4J 2.0.10 をリリースしました。http://yus...
      </li>
      <li><a href="../../../diary/2009/09/09/1252466400000.html" title="http://yusuke.homeip.net/diary/2009/09/09/1252466400000.html">コマンドラインメモ - Subversion の .svn や Mac 固有の .DS_Store, ._* を含めず zip アーカイブを作成する</a>
        <br/>zip -r [アーカイブ名] [アーカイブ対象ディレクトリ] -x *.svn* *.DS_Store* *._*タグ : mac
      </li>
      <li><a href="../../../diary/2009/09/08/1252387320000.html" title="http://yusuke.homeip.net/diary/2009/09/08/1252387320000.html">コマンドラインメモ - ディレクトリに対して誤って svn add した操作(commit前)を取り消す</a>
        <br/>svn revert --depth infinity [ディレクトリ名]
      </li>
      <li><a href="../../../diary/2009/08/31/1251703680000.html" title="http://yusuke.homeip.net/diary/2009/08/31/1251703680000.html">JBoss オープンセミナー@恵比寿 - 9月9日 15:00〜</a>
        <br/>JBoss の製品概要や事例、またちょっとしたテクニ...
      </li>
      <li><a href="../../../diary/2009/08/30/1251560100000.html" title="http://yusuke.homeip.net/diary/2009/08/30/1251560100000.html">Snow Leopard インストール！</a>
        <br/>発売から一日。手持ちの Mac に Snow Leopard を入れてあげました。楽天 - Snow Leopard使い勝手とかのフツーのレポ...
      </li>
    </ul>
  </div>
</div>
  <div class="sidebarItemTitle"><span>このサイトのはてなブックマーク</span><br><br></div>
  <div class="sidebarItemBody">
<a href="http://b.hatena.ne.jp/entrylist?url=http://yusuke.homeip.net/"><img src="http://b.hatena.ne.jp/bc/bl/http://yusuke.homeip.net/" class="bcounter" alt="このサイトのはてなブックマーク数" title="このサイトのはてなブックマーク数"></a><br><br></div>
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>ナビゲート</span></div>
  <div class="sidebarItemBody">
    <div class="calendar"><table width="100%"><tr><td colspan="7" align="center"><b><a href="../../../diary/2008/11.html">11月 2008</a></b></td></tr><tr><td class="calendarDayHeader" width="14%">日</td><td class="calendarDayHeader" width="14%">月</td><td class="calendarDayHeader" width="14%">火</td><td class="calendarDayHeader" width="14%">水</td><td class="calendarDayHeader" width="14%">木</td><td class="calendarDayHeader" width="14%">金</td><td class="calendarDayHeader" width="14%">土</td></tr><tr><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;&nbsp;1&nbsp;</td></tr><tr><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/02.html">&nbsp;2</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/03.html">&nbsp;3</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/04.html">&nbsp;4</a>&nbsp;</td><td class="calendarDay">&nbsp;&nbsp;5&nbsp;</td><td class="calendarDay">&nbsp;&nbsp;6&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="/">&nbsp;7</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="/">&nbsp;8</a>&nbsp;</td></tr><tr><td class="calendarDay">&nbsp;&nbsp;9&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/10.html">10</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/11.html">11</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/12.html">12</a>&nbsp;</td><td class="calendarDay">&nbsp;13&nbsp;</td><td class="calendarDay">&nbsp;14&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/15.html">15</a>&nbsp;</td></tr><tr><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/16.html">16</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="/">17</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/18.html">18</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/19.html">19</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/20.html">20</a>&nbsp;</td><td class="calendarDay">&nbsp;21&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/22.html">22</a>&nbsp;</td></tr><tr><td class="calendarDay">&nbsp;23&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/24.html">24</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/25.html">25</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/26.html">26</a>&nbsp;</td><td class="calendarDay">&nbsp;27&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/28.html">28</a>&nbsp;</td><td class="calendarDayWithEntries">&nbsp;<a href="../../../diary/2008/11/29.html">29</a>&nbsp;</td></tr><tr><td class="calendarDay">&nbsp;30&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td><td class="calendarDay">&nbsp;</td></tr><tr><td colspan="7" align="center"><a href="../../../diary/2008/10.html">10</a>&nbsp; | &nbsp;<a href="/">今日</a>&nbsp; | &nbsp;<a href="../../../diary/2008/12.html">12</a></td></tr></table></div>
  </div>
</div>
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>Archives</span></div>
  <div class="sidebarItemBody">
    <table width="99%" cellpadding="0" cellspacing="0">
        <tr>
        <td valign="top">
          <b>2009</b><br/>
          <a href="../../../diary/2009/10.html">10月</a> (1)
          <br/>
          <a href="../../../diary/2009/09.html">9月</a> (4)
          <br/>
          <a href="../../../diary/2009/08.html">8月</a> (3)
          <br/>
          <a href="../../../diary/2009/07.html">7月</a> (1)
          <br/>
          <a href="../../../diary/2009/06.html">6月</a> (4)
          <br/>
          <a href="../../../diary/2009/05.html">5月</a> (10)
          <br/>
          <a href="../../../diary/2009/04.html">4月</a> (18)
          <br/>
          <a href="../../../diary/2009/03.html">3月</a> (11)
          <br/>
          <a href="../../../diary/2009/02.html">2月</a> (11)
          <br/>
          <a href="../../../diary/2009/01.html">1月</a> (5)
          <br/>
          <br/>
        </td>
        <td valign="top">
          <b>2008</b><br/>
          <a href="../../../diary/2008/12.html">12月</a> (15)
          <br/>
          <a href="../../../diary/2008/11.html">11月</a> (28)
          <br/>
          <a href="../../../diary/2008/10.html">10月</a> (21)
          <br/>
          <a href="../../../diary/2008/09.html">9月</a> (29)
          <br/>
          <a href="../../../diary/2008/08.html">8月</a> (6)
          <br/>
          <a href="../../../diary/2008/07.html">7月</a> (12)
          <br/>
          <a href="../../../diary/2008/06.html">6月</a> (11)
          <br/>
          <a href="../../../diary/2008/05.html">5月</a> (10)
          <br/>
          <a href="../../../diary/2008/04.html">4月</a> (10)
          <br/>
          <a href="../../../diary/2008/03.html">3月</a> (16)
          <br/>
          <a href="../../../diary/2008/02.html">2月</a> (27)
          <br/>
          <a href="../../../diary/2008/01.html">1月</a> (17)
          <br/>
          <br/>
        </td>
        </tr>
        <tr>
        <td valign="top">
          <b>2007</b><br/>
          <a href="../../../diary/2007/12.html">12月</a> (7)
          <br/>
          <a href="../../../diary/2007/11.html">11月</a> (5)
          <br/>
          <a href="../../../diary/2007/10.html">10月</a> (30)
          <br/>
          <a href="../../../diary/2007/09.html">9月</a> (4)
          <br/>
          <a href="../../../diary/2007/08.html">8月</a> (4)
          <br/>
          <a href="../../../diary/2007/07.html">7月</a> (4)
          <br/>
          <a href="../../../diary/2007/06.html">6月</a> (21)
          <br/>
          <a href="../../../diary/2007/05.html">5月</a> (4)
          <br/>
          <a href="../../../diary/2007/04.html">4月</a> (25)
          <br/>
          <a href="../../../diary/2007/03.html">3月</a> (24)
          <br/>
          <a href="../../../diary/2007/02.html">2月</a> (13)
          <br/>
          <a href="../../../diary/2007/01.html">1月</a> (18)
          <br/>
          <br/>
        </td>
        <td valign="top">
          <b>2006</b><br/>
          <a href="../../../diary/2006/12.html">12月</a> (25)
          <br/>
          <a href="../../../diary/2006/11.html">11月</a> (18)
          <br/>
          <a href="../../../diary/2006/10.html">10月</a> (36)
          <br/>
          <a href="../../../diary/2006/09.html">9月</a> (14)
          <br/>
          <a href="../../../diary/2006/08.html">8月</a> (5)
          <br/>
          <a href="../../../diary/2006/07.html">7月</a> (7)
          <br/>
          <a href="../../../diary/2006/06.html">6月</a> (17)
          <br/>
          <a href="../../../diary/2006/05.html">5月</a> (8)
          <br/>
          <a href="../../../diary/2006/04.html">4月</a> (19)
          <br/>
          <a href="../../../diary/2006/03.html">3月</a> (45)
          <br/>
          <a href="../../../diary/2006/02.html">2月</a> (52)
          <br/>
          <a href="../../../diary/2006/01.html">1月</a> (47)
          <br/>
          <br/>
        </td>
        </tr>
        <tr>
        <td valign="top">
          <b>2005</b><br/>
          <a href="../../../diary/2005/12.html">12月</a> (5)
          <br/>
          <a href="../../../diary/2005/11.html">11月</a> (7)
          <br/>
          <a href="../../../diary/2005/10.html">10月</a> (10)
          <br/>
          <a href="../../../diary/2005/09.html">9月</a> (5)
          <br/>
          <a href="../../../diary/2005/08.html">8月</a> (22)
          <br/>
          <a href="../../../diary/2005/07.html">7月</a> (6)
          <br/>
          <a href="../../../diary/2005/06.html">6月</a> (16)
          <br/>
          <a href="../../../diary/2005/05.html">5月</a> (9)
          <br/>
          <a href="../../../diary/2005/04.html">4月</a> (29)
          <br/>
          <a href="../../../diary/2005/03.html">3月</a> (19)
          <br/>
          <a href="../../../diary/2005/02.html">2月</a> (25)
          <br/>
          <a href="../../../diary/2005/01.html">1月</a> (18)
          <br/>
          <br/>
        </td>
        <td valign="top">
          <b>2004</b><br/>
          <a href="../../../diary/2004/12.html">12月</a> (11)
          <br/>
          <a href="../../../diary/2004/11.html">11月</a> (17)
          <br/>
          <a href="../../../diary/2004/10.html">10月</a> (18)
          <br/>
          <a href="../../../diary/2004/09.html">9月</a> (25)
          <br/>
          <a href="../../../diary/2004/08.html">8月</a> (7)
          <br/>
          <a href="../../../diary/2004/07.html">7月</a> (14)
          <br/>
          <a href="../../../diary/2004/06.html">6月</a> (21)
          <br/>
          <a href="../../../diary/2004/05.html">5月</a> (12)
          <br/>
          <a href="../../../diary/2004/04.html">4月</a> (30)
          <br/>
          <br/>
        </td>
        </tr>
    </table>
  </div>
</div>
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>タグ</span></div>
  <div class="sidebarItemBody">
    <div class="sidebarTagCloud">
    <ul>
      <li><span class="tagCloud1"><a href="../../../diary/tags/apache.html" title="rank=1, blog entries=1">apache</a></span></li>
      <li><span class="tagCloud2"><a href="../../../diary/tags/archery.html" title="rank=2, blog entries=61">archery</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/bea.html" title="rank=1, blog entries=10">bea</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/bookmarklet.html" title="rank=1, blog entries=2">bookmarklet</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/bts.html" title="rank=1, blog entries=4">bts</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/c.html#/" title="rank=1, blog entries=3">c#</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/car.html" title="rank=1, blog entries=10">car</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/english.html" title="rank=1, blog entries=6">english</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/fast.html" title="rank=1, blog entries=1">fast</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/fisheye.html" title="rank=1, blog entries=1">fisheye</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/game.html" title="rank=1, blog entries=15">game</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/google.html" title="rank=1, blog entries=5">google</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/googlemaps.html" title="rank=1, blog entries=1">googlemaps</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/gps.html" title="rank=1, blog entries=7">gps</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/idea.html" title="rank=1, blog entries=1">idea</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/iphone.html" title="rank=1, blog entries=3">iphone</a></span></li>
      <li><span class="tagCloud10"><a href="../../../diary/tags/java.html" title="rank=10, blog entries=336">java</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/java6.html" title="rank=1, blog entries=1">java6</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/javascript.html" title="rank=1, blog entries=3">javascript</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/javawebstart.html" title="rank=1, blog entries=1">javawebstart</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/jboss.html" title="rank=1, blog entries=26">jboss</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/jbug.html" title="rank=1, blog entries=1">jbug</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/jdbc.html" title="rank=1, blog entries=1">jdbc</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/jira.html" title="rank=1, blog entries=2">jira</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/jmx.html" title="rank=1, blog entries=2">jmx</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/jmxremote.html" title="rank=1, blog entries=1">jmxremote</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/jrockit.html" title="rank=1, blog entries=3">jrockit</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/jvm.html" title="rank=1, blog entries=1">jvm</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/komuso.html" title="rank=1, blog entries=1">komuso</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/language.html" title="rank=1, blog entries=1">language</a></span></li>
      <li><span class="tagCloud3"><a href="../../../diary/tags/mac.html" title="rank=3, blog entries=99">mac</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/maps.html" title="rank=1, blog entries=5">maps</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/marsphoenix.html" title="rank=1, blog entries=1">marsphoenix</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/maven.html" title="rank=1, blog entries=2">maven</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/mbean.html" title="rank=1, blog entries=1">mbean</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/mod_python.html" title="rank=1, blog entries=1">mod_python</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/mono.html" title="rank=1, blog entries=1">mono</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/movabletype.html" title="rank=1, blog entries=2">movabletype</a></span></li>
      <li><span class="tagCloud3"><a href="../../../diary/tags/movie.html" title="rank=3, blog entries=94">movie</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/mvn.html" title="rank=1, blog entries=1">mvn</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/mysql.html" title="rank=1, blog entries=1">mysql</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/oracle.html" title="rank=1, blog entries=14">oracle</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/pebble.html" title="rank=1, blog entries=18">pebble</a></span></li>
      <li><span class="tagCloud2"><a href="../../../diary/tags/photolog.html" title="rank=2, blog entries=44">photolog</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/postgres.html" title="rank=1, blog entries=1">postgres</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/python.html" title="rank=1, blog entries=5">python</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/rakuten.html" title="rank=1, blog entries=1">rakuten</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/redhat.html" title="rank=1, blog entries=2">redhat</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/rfms.html" title="rank=1, blog entries=1">rfms</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/samurai.html" title="rank=1, blog entries=7">samurai</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/seam.html" title="rank=1, blog entries=3">seam</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/secondlife.html" title="rank=1, blog entries=3">secondlife</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/shoot.html" title="rank=1, blog entries=7">shoot</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/skype.html" title="rank=1, blog entries=2">skype</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/sql.html" title="rank=1, blog entries=1">sql</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/subversion.html" title="rank=1, blog entries=4">subversion</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/thin.html" title="rank=1, blog entries=1">thin</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/tomcat.html" title="rank=1, blog entries=2">tomcat</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/tools.html" title="rank=1, blog entries=1">tools</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/trac.html" title="rank=1, blog entries=5">trac</a></span></li>
      <li><span class="tagCloud3"><a href="../../../diary/tags/travel.html" title="rank=3, blog entries=76">travel</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/twitter.html" title="rank=1, blog entries=20">twitter</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/twitter4j.html" title="rank=1, blog entries=21">twitter4j</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/vegas.html" title="rank=1, blog entries=7">vegas</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/virtualhost.html" title="rank=1, blog entries=1">virtualhost</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/webbeans.html" title="rank=1, blog entries=2">webbeans</a></span></li>
      <li><span class="tagCloud2"><a href="../../../diary/tags/weblogic.html" title="rank=2, blog entries=41">weblogic</a></span></li>
      <li><span class="tagCloud1"><a href="../../../diary/tags/wls.html" title="rank=1, blog entries=7">wls</a></span></li>
    </ul>
    </div>
   </div>
</div>
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>Subscribe <a href="../../../diary/rss.xml"></a></span></div>
  <div class="sidebarItemBody">
    <a href="http://yusuke.homeip.net/diary/../../../diary/rss.xml">RSS</a> |
    <a href="../../../diary/atom.xml">Atom</a> |
    <a href="../../../diary/subscribe.html">E-mail</a>
  </div>
</div>
<div class="sidebarItem">
<div class="sidebarItem">
  <div class="sidebarItemTitle"><span>ログイン</span></div>
  <form id="loginForm" name="loginForm" method="post" action="../../../j_acegi_security_check.html">
    <div class="sidebarItemBody">
    <input type="hidden" name="redirectUrl" value="/diary/"/>
      <table>
        <tr>
          <td>ユーザー名</td>
          <td><input id="j_username" name="j_username" type="text" size="16"/></td>
        </tr>
        <tr>
          <td>パスワード</td>
          <td><input type="password" name="j_password" size="16"/></td>
        </tr>
        <tr>
          <td colspan="2" align="center">
            次回から入力を省略<input type="checkbox" name="_acegi_security_remember_me"/>
            <input type="submit" value="ログイン"/>
          </td>
        </tr>
      </table>
    </div>
  </form>
</div>
<script type="text/javascript">
//  $('loginForm').style.display = 'none';
</script>
    </div>
</div>
    <div id="content">
<script type="text/javascript"><!--
google_ad_client = "pub-3583922429486444";
/* サムライズム 水平バナー */
google_ad_slot = "5984579660";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript" src="../../../pagead/show_ads.js">
</script>
<div class="contentItem published">
  <div class="contentItemLinks">
</div>
  <a name="a1226316240000"></a>
  <h1><a href="http://samuraism.jp/diary/2008/11/10/1226316240000.html">メモリリークトラブルシューティング記 - その5: Memory Analyzer でヒープダンプを解析(最終回)</a></h1>
  <h2></h2>
  <div class="contentItemBody">
            <p>- その1: <a href="http://samuraism.jp/diary/2008/11/03/1225722480000.html">自宅サーバがハング</a><br/><br/>- その2: <a href="http://samuraism.jp/diary/2008/11/03/1225723980000.html">フリーズの原因はガベージコレクション</a><br/><br/>- その3: <a href="../../../diary/2008/11/07/1225984560000.html">侍でヒープ使用量を確認</a><br/><br/>- その4: <a href="../../../diary/2008/11/08/1226148780000.html">リーク箇所を確認する色々な方法</a><br/><br/>- その5: Memory Analyzer でヒープダンプを解析(最終回)<br/><br/>延々と連載してきたメモリリークトラブルシューティング記もいよいよ最終回です。<br/><br/>今回のメモリリーク現象は<a href="http://samuraism.jp/diary/2008/11/03/1225722480000.html">リークの再現方法がわからない</a>ため、<a href="../../../diary/2008/11/08/1226148780000.html">運用環境から詳細なデータが取得できるheapdump</a>を取得した、というのが前回までのあらすじです。<br/><br/>次は、ヒープダンプの解析。<br/>ヒープダンプは JDK に付属の jmap コマンドで取得します。<br/>jmap -heap:format=x <i>[pid]</i> または jmap -heap:format=b <i>[pid]</i> といった形で実行するとヒープダンプを xml 形式、またはバイナリ形式で記録できます。<br/>通常生のヒープダンプを人間の目で読むことはないので xml 形式は使いません。バイナリ形式で取得します。<br/>バイナリ形式のヒープダンプは<a href="http://www.eclipse.org/mat/">Eclipse Memory Analyzer</a>というツールで解析できます。<br/>Eclipse Memory Analyzer は SAP が開発した Eclipse RPC ベースのマルチプラットフォームアプリケーションです。<br/>非常に良くできています。<br/><br/><a href="#"></a><br/>Memory Analyzer を起動したところ<br/><br/>Memory Analyzer を起動したらヒープダンプの読み込みは簡単。<br/>[File &gt; Open Heap Dump...] でファイルダイアログを開き、ヒープダンプを選択するだけです。<br/><br/><a href="#"></a><br/>ヒープダンプを読み込んだところ<br/><br/>メモリリーク問題の調査は大きく分けて２段階あります。<br/>1. ヒープ中を占める割合の高いオブジェクトを見つけること<br/>これはヒープダンプ一つ開けば解析できます。<br/><br/>2. アプリケーションを動作させていく過程で単調増加し続けるオブジェクトを見つけること<br/>具体的にはヒープダンプを２回(以上)取得して差分を取ることで解析できます。<br/><br/>&quot;1.&quot; で大きなオブジェクト、または大量に存在するオブジェクトを見るだけでピンと来ればしめたもの。その原因を取り除いてやりましょう。<br/>しかし、そういったオブジェクトは予定通りドカっと確保したキャッシュであることも多いです。増加し続けているわけではなく、単にあるべくしてあるだけの場合は調べてもしかたがありません。<br/>本当にリークしているオブジェクトを確認するためには &quot;2.&quot; で単調増加し続けているオブジェクトを確認しないといけません。<br/><br/><br/>1. ヒープ中を占める割合の高いオブジェクトの確認<br/>ではやってみます。ヒープダンプを Memory Analyzer で開いたら表示されるオーバービュー画面で &quot;Leak Suspects&quot; というリンクをクリックします。<br/>するとやたらと大きいオブジェクトを「なんとなく怪しい」と判断してピックアップしてくれます。<br/>「なんとなく」ですので、かならずしもリークしているオブジェクトが検出されるとは限らないことに注意してください。<br/><a href="#"></a><br/>Leak Suspects を開いたところ<br/><br/>今回は org.apache.jasper.runtime.BodyContentImpl クラスのインスタンスが 108 つで、合計419MB(ヒープ中72.26%)も占めているとのレポートが出ました。<br/>明らかに怪しいです。<br/>org.apache というパッケージから Apache プロジェクトのコンポーネントであることがわかります。また jasper という名前は Apache の jsp 実装です。<br/>インスタンスの数としては 108 つと多すぎるわけではありませんが、一つ一つのサイズが尋常ではありません。一体このインスタンスには何が記録されているのでしょう？<br/>今度は dominator treeビューよりオブジェクトの中身を確認してみます。<br/>dominator treeを開くには、ツールバーの箱３つが繋がれたアイコンをクリックします。<br/><br/>dominator treeを開くためのアイコン<br/><br/>dominator tree を開くと大きなオブジェクト順にソートされたインスタンスの一覧が見られます。<br/>また、それぞれのインスタンスツリーを展開することで、保有しているフィールドやまたその中身を確認することができます。<br/><a href="#"></a><br/>dominator tree 表示<br/><br/>今回は dominator tree より、BodyContentImpl には非常にサイズの大きな char 配列が格納されていることがわかりました。<br/>Inspector ペインで簡単に配列の中身をプレビューできますが、ほんの部分部分しか見られないのでもっとざっくりと見たいときは中身をファイルに保存することができます。<br/><a href="#"></a><br/>オブジェクトの中身をファイルに保存<br/><br/><a href="#"></a><br/>保存した char 配列の中身を確認<br/><br/>中身を view コマンドで確認すると、html が記録されていることを確認できました。<br/>さらによく見てみると・・・・あまり大きな声で口に出せないような英単語が&lt;div class="trackbackheader"&gt;..&lt;/div&gt;というタグに囲まれて大量にならんでいました。<br/>これはトラックバックスパムですね。<br/>&lt;img border="0" src="/jira/images/icons/document_exchange.gif" width=16 height=16 align=absmiddle&gt; という要素が見られるので <a href="http://www.atlassian.com/software/jira/">Jira</a> が絡んでいるようです。<br/><a href="http://www.atlassian.com/software/jira/">Jira</a> は<a href="../../../jira/secure/Dashboard.html">自分のオープンソースプロジェクトのバグトラッキングに使っている</a> Web アプリケーションです。<br/> を使うと何か JBoss Web(JBoss 内蔵の Tomcat ベースのコンテナ)でリークするのでしょうか？<br/><br/>BodyContentImpl 以外にも増加しているオブジェクトがないか、ヒープダンプの差分も確認してみることにしました。<br/><br/>2. 単調増加し続けるオブジェクトの確認<br/>ヒープダンプの差分をとるには、ヒープダンプを２つ開き、ヒストグラムビュー(棒グラフのアイコン)を開いた状態で左右に矢印が伸びるアイコンをクリックします。<br/><a href="#"></a><br/>ヒープダンプの比較<br/><br/>すると Select baseline というダイアログが現れるので差分を取りたいもう一方のヒープダンプを選択します。<br/><a href="#"></a><br/>Select baselineで差分を取る対象のヒープダンプを選択<br/><br/>差分がとれたら、&quot;Objects&quot; - つまりインスタンス数でソートしてみます。<br/>すると興味深いオブジェクトが浮かび上がってきました。<br/>com.atlassian.trackback.Trackback というオブジェクトが20,211個も増えていることがわかります。<br/><a href="#"></a><br/>差分取得で浮かび上がってきたオブジェクト - com.atlassian.trackback.Trackback<br/><br/>atlassian は Jira を開発している会社です。どうもトラックバックスパムを大量に受けてトラックバックを表現するオブジェクトが増えまくっているようですね。<br/><br/><a href="http://tinyurl.com/65e6kw">&quot;com.atlassian.trackback.Trackback&quot;</a> で検索してみましたが、リークにまつわる情報はみつかりませんでした。<br/><br/>今度は<br/><a href="http://tinyurl.com/5rbzz4">&quot;jira tomcat leak&quot;</a>で検索。ビンゴ！<br/>・<a href="http://confluence.atlassian.jp/confluence/display/JIRA/05.03.04+Tomcat+6.0">05.03.04 Tomcat 6.0 - JIRA オンラインマニュアル (3.12.2版 - 最新) - Atlassian Confluence</a><br/><div class="codeSample">Tomcatのメモリー設定の修正<br/> <br/>Tomcatは、大きなJSPのページをリクエストするとメモリリークしてしまいます。<br/>これを避けるために、bin/setenv.shを編集して（もしなければ作成して）、次のように設定してください。<br/><br/>export CATALINA_OPTS=&quot;$CATALINA_OPTS -Dorg.apache.jasper.runtime.BodyContentImpl.LIMIT_BUFFER=true&quot;</div><br/><br/>ちゃんとドキュメントに書いてある設定をしていなかったのが原因でした。<br/>LIMIT_BUFFER オプションについては以下のページで導入の経緯が詳しく説明されています。<br/>・<a href="https://issues.apache.org/bugzilla/show_bug.cgi?id=37793">Bug 37793 – org.apache.jasper.runtime.BodyContentImpl doesn't reset the 'cb' character array, causes memory leak</a><br/><br/>Jira の issue ではこれ。<br/>・<a href="http://jira.atlassian.com/browse/JRA-10145">[#JRA-10145] Set tomcat flag to not re-use buffers, as they result in OutOfMemoryErrors - Atlassian JIRA </a><br/><br/>どうも、Tomcat は書き込みバッファを再利用する仕組みがあるらしく、非常に大きなコンテンツを出力するとバッファでヒープがあふれてしまうようです。<br/>この書き込みバッファを無尽蔵に増やさないためのオプションが LIMIT_BUFFER ですね。<br/><br/>つまり、今回のメモリリーク問題の発生ステップはこう想像できます。<br/>1. トラックバックスパムを大量に受けて、特定のページのサイズが膨らむ<br/>2. 検索エンジンのクローラかなにかが膨らんだページを閲覧する<br/>3. 書き込みバッファが膨れる<br/><br/>ウチのサーバは Tomcat ではなく JBoss で運用していますが、Webコンテナである JBoss Web は Tomcat 由来なのでこのオプションがちゃんと効きました。<br/><br/>トラックバックオブジェクトが大量にあるのはよろしい状態なのかどうかわかりませんが、そもそもトラックバック機能は現在の所必要ないので、管理画面から無効に設定してしまいました。<br/><a href="#"></a><br/>トラックバック機能を OFF に設定<br/><br/>LIMIT_BUFFER オプションの設定とトラックバックの OFF 設定を実施してから1週間以上経ちますが、現在の所ヒープ使用量は一定しており安定稼働しています。<br/><br/>５回に渡るエントリで長々とトラブルシューティングの様子を説明してみました。<br/>メモリリークのトラブルシューティングというと、じっくりソースコードを眺めたり、プロファイラを使ってがんばって現象を再現させたりという調査方法が有名ですね。<br/>しかし、ヒープダンプや Memory Analyzer を使う方法はご存じない方も多いのではないでしょうか。<br/>メモリリークトラブルは長期間稼働して初めて現れることも多い厄介な問題です。<br/>トラブルが発生してからあわてることのないよう、あらかじめヒープダンプを使った解析の練習をしておくと良いかもしれません。<br/></p><div class="tags"><span>タグ : </span><a href="../../../diary/tags/java.html" rel="tag">java</a></div>
    <div class="metadata">
      <div class="contentItemLinks">
      <a href="../../../diary/replyToBlogEntry_entry_1226316240000.html">コメント追加</a>
      <a href="http://yusuke.homeip.net/diary/../../../diary/responses/../../../diary/rss.xml?entry=1226316240000"></a>
</div>
      投稿者 <a href="../../../diary.html">山本 裕介</a> : 2008/11/10 20:24:00 JST
      <a href="http://samuraism.jp/diary/2008/11/10/1226316240000.html" title="http://yusuke.homeip.net/diary/2008/11/10/1226316240000.html">#</a>
    </div>
  </div>
</div>
    </div>
    <div id="footer">
Powered by <a href="http://pebble.sourceforge.net/">Pebble 2.3.1</a>
      |
      <a href="../../../diary/login.html">ログイン</a>
    </div>
  </div>
<script src="../../../urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-262260-1";
urchinTracker();
</script>
  </body>
</html>